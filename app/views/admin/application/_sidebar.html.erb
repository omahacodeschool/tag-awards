<%#
# Sidebar

This partial is used to display the sidebar in Administrate.
By default, the sidebar contains navigation links
for all resources in the admin dashboard,
as defined by the routes in the `admin/` namespace
%>

<%= form_tag('/admin/set_period',method: :post) do %>
  <%= select_tag :year, options_from_collection_for_select(VotingPeriod.all, 'year', 'year', @period.year), {onChange: "this.form.submit();"} %>
<% end %>

<ul class="sidebar__list">
  <% Administrate::Namespace.new(namespace).resources.each do |resource| %>
    <li>
      <%= link_to(
        display_resource_name(resource),
        [namespace, resource],
        class: "sidebar__link sidebar__link--#{nav_link_state(resource)}"
      ) %>
    </li>
  <% end %>

    <li>
      <%= link_to "Ballot Builder", :top_ten_admin_nominations, class: "sidebar__link" %>
    </li>
    <br>
    <!-- this line should link to buttons that allow them to email users but right now will just log them out -->
<!--   <li><%= link_to "Email Users", class: "sidebar__link sidebar__link--/"%></li> -->
</ul>
</ul>